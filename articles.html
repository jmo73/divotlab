<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Articles - Divot Lab</title>
<link rel="icon" type="image/png" href="/favicon.png">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,400;0,500;0,600;0,700;1,500;1,600&family=DM+Sans:wght@300;400;500;600&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">

<style>
:root {
  --black:      #0A0A0A;
  --white:      #FAFAFA;
  --graphite:   #4A4A4A;
  --steel:      #C4C4C4;
  --green:      #1B4D3E;
  --green-light:#5BBF85;
  --blue:       #2C5F7C;
  --blue-mid:   #5A8FA8;
  --warm-gray:  #F3F2F0;
  --display: 'Cormorant Garamond', Georgia, serif;
  --body:    'DM Sans', 'Helvetica Neue', sans-serif;
  --mono:    'JetBrains Mono', 'Courier New', monospace;
}
*,*::before,*::after { margin:0; padding:0; box-sizing:border-box; }
html { scroll-behavior:smooth; }
body { font-family:var(--body); color:var(--black); background:var(--white); -webkit-font-smoothing:antialiased; overflow-x:hidden; }
a { color:inherit; text-decoration:none; }

/* NAV */
nav { position:fixed; top:0; left:0; right:0; z-index:100; padding:0 56px; height:68px; display:flex; align-items:center; background:rgba(250,250,250,0.88); backdrop-filter:blur(18px); -webkit-backdrop-filter:blur(18px); border-bottom:1px solid rgba(0,0,0,0.07); }
.nav-logo { display:flex; align-items:center; gap:11px; }
.nav-logo svg { width:26px; height:26px; flex-shrink:0; color:var(--black); }
.nav-wordmark { font-size:14px; font-weight:600; letter-spacing:.1em; color:var(--black); }
.nav-wordmark span { font-weight:300; opacity:.55; }
.nav-links { display:flex; align-items:center; gap:32px; margin-left:auto; }
.nav-links a { font-size:13px; font-weight:500; letter-spacing:.05em; color:var(--graphite); transition:color .2s; }
.nav-links a:hover { color:var(--black); }
.nav-cta { background:var(--green); color:var(--white) !important; padding:9px 22px; border-radius:5px; font-weight:500; transition:background .2s, transform .15s, box-shadow .2s; }
.nav-cta:hover { background:#236b4f; transform:translateY(-1px); box-shadow:0 4px 14px rgba(27,77,62,.3); }

/* HERO */
.articles-hero { min-height:65vh; background:linear-gradient(165deg, #0a0a0a 0%, #0d1215 100%); position:relative; display:flex; align-items:center; justify-content:center; padding:140px 56px 100px; overflow:hidden; }
.articles-hero::before { content:''; position:absolute; top:50%; left:50%; transform:translate(-50%,-50%); width:600px; height:600px; background:radial-gradient(ellipse at center, rgba(44,95,124,.10) 0%, transparent 65%); pointer-events:none; }
.articles-hero-content { position:relative; z-index:1; text-align:center; max-width:620px; }
.articles-eyebrow { font-size:11px; font-weight:500; letter-spacing:.24em; text-transform:uppercase; color:var(--blue-mid); margin-bottom:24px; opacity:0.8; }
.articles-hero h1 { font-family:var(--display); font-size:clamp(48px, 6.5vw, 72px); font-weight:600; letter-spacing:-.025em; line-height:1.02; color:var(--white); margin-bottom:18px; }
.articles-hero p { font-size:18px; font-weight:300; color:rgba(250,250,250,0.5); line-height:1.6; }

/* CATEGORY FILTERS */
.filter-bar { max-width:1120px; margin:0 auto; padding:0 56px; }
.filter-row { display:flex; align-items:center; gap:8px; padding:32px 0 0; border-bottom:1px solid #E6E6E4; }
.filter-btn {
  font-family:var(--body); font-size:13px; font-weight:500; letter-spacing:.03em;
  color:var(--graphite); background:none; border:none; cursor:pointer;
  padding:10px 18px; position:relative; transition:color .2s;
}
.filter-btn:hover { color:var(--black); }
.filter-btn.active { color:var(--black); }
.filter-btn.active::after {
  content:''; position:absolute; bottom:-1px; left:0; right:0;
  height:2px; background:var(--green); border-radius:1px;
}
.filter-count {
  font-family:var(--mono); font-size:11px; color:var(--steel);
  margin-left:4px;
}

/* ARTICLES GRID */
.articles-section { max-width:1120px; margin:0 auto; padding:48px 56px 96px; }
.articles-grid { display:grid; grid-template-columns:repeat(auto-fill, minmax(340px, 1fr)); gap:24px; }
.articles-empty { text-align:center; padding:80px 0; color:var(--steel); font-size:15px; }

/* CARD */
.a-card {
  background:var(--white); border:1px solid #E6E6E4; border-radius:9px; overflow:hidden;
  position:relative; cursor:pointer; display:block; color:inherit;
  transition:transform .28s cubic-bezier(.22,1,.36,1), box-shadow .28s cubic-bezier(.22,1,.36,1), border-color .28s;
}
.a-card:hover { transform:translateY(-5px); box-shadow:0 16px 48px rgba(0,0,0,.09); border-color:transparent; }
.a-card::after { content:''; position:absolute; bottom:0; left:0; right:0; height:3px; background:linear-gradient(90deg, var(--green), var(--blue-mid)); transform:scaleX(0); transform-origin:left; transition:transform .4s cubic-bezier(.22,1,.36,1); }
.a-card:hover::after { transform:scaleX(1); }

/* Card image area */
.a-img { height:220px; position:relative; overflow:hidden; }
.a-img img { position:absolute; inset:0; width:100%; height:100%; object-fit:cover; }

/* Branded fallback hero (when no photo) */
.a-img-fallback {
  position:absolute; inset:0; display:flex; flex-direction:column; align-items:center; justify-content:center; gap:16px;
  background:linear-gradient(140deg, #0f1a16 0%, #162420 50%, #0a0a0a 100%);
}
.a-img-fallback svg { width:56px; height:56px; opacity:.35; }
.a-img-fallback .fallback-cat {
  font-size:10px; font-weight:600; letter-spacing:.2em; text-transform:uppercase;
  color:rgba(250,250,250,.3);
}

.a-body { padding:22px 24px 24px; }
.a-cat { display:inline-block; font-size:10px; font-weight:600; letter-spacing:.18em; text-transform:uppercase; padding:4px 10px; border-radius:3px; margin-bottom:12px; }
.a-cat.pga { background:rgba(44,95,124,.1); color:var(--blue); }
.a-cat.sg { background:rgba(91,191,133,.1); color:#3a9e6b; }
.a-cat.improve { background:rgba(27,77,62,.1); color:var(--green); }
.a-title { font-family:var(--display); font-size:21px; font-weight:600; line-height:1.3; letter-spacing:-.01em; color:var(--black); margin-bottom:10px; }
.a-meta { font-size:12px; color:var(--graphite); opacity:.65; }
.a-meta .dot { margin:0 7px; opacity:.45; }

/* FOOTER */
footer { background:var(--black); border-top:1px solid rgba(255,255,255,.06); padding:64px 56px 36px; }
.footer-grid { max-width:1120px; margin:0 auto; display:grid; grid-template-columns:1.5fr 1fr 1fr 1fr; gap:44px; }
.f-brand .f-logo { display:flex; align-items:center; gap:10px; margin-bottom:14px; }
.f-brand .f-logo svg { width:20px; height:20px; }
.f-brand .f-logo-text { font-weight:600; font-size:13px; letter-spacing:.1em; color:var(--white); }
.f-brand .f-logo-text span { font-weight:300; opacity:.5; }
.f-brand p { font-size:13px; color:rgba(250,250,250,.36); line-height:1.65; max-width:240px; }
.f-col h5 { font-size:10px; font-weight:600; letter-spacing:.2em; text-transform:uppercase; color:rgba(250,250,250,.28); margin-bottom:18px; }
.f-col a { display:block; font-size:13px; color:rgba(250,250,250,.5); margin-bottom:11px; transition:color .2s; }
.f-col a:hover { color:var(--white); }
.footer-bottom { max-width:1120px; margin:44px auto 0; padding-top:24px; border-top:1px solid rgba(255,255,255,.06); display:flex; justify-content:space-between; font-size:12px; color:rgba(250,250,250,.22); }

@media(max-width:900px){
  .articles-grid { grid-template-columns:1fr 1fr; }
  .footer-grid { grid-template-columns:1fr 1fr; }
}
@media(max-width:600px){
  nav { padding:0 22px; }
  .nav-links a:not(.nav-cta){ display:none; }
  .articles-hero { min-height:55vh; padding:120px 22px 80px; }
  .filter-bar { padding:0 22px; }
  .filter-row { gap:0; overflow-x:auto; }
  .filter-btn { padding:10px 14px; font-size:12px; white-space:nowrap; }
  .articles-section { padding:36px 22px 68px; }
  .articles-grid { grid-template-columns:1fr; }
  .footer-grid { grid-template-columns:1fr; gap:28px; }
}
</style>
</head>
<body>

<!-- NAV -->
<nav>
  <a href="/" class="nav-logo">
    <svg viewBox="0 0 72 72" fill="none">
      <line x1="4" y1="36.5" x2="68" y2="36.5" stroke="currentColor" stroke-width="3.2"/>
      <path d="M10 36.5 C18 36.5,26 60.5,36 60.5 S54 36.5,62 36.5" fill="currentColor" fill-opacity=".15"/>
      <path d="M10 36.5 C18 36.5,26 60.5,36 60.5 S54 36.5,62 36.5" stroke="currentColor" stroke-width="2.8" fill="none"/>
      <circle cx="36" cy="20.5" r="9" fill="currentColor"/>
    </svg>
    <span class="nav-wordmark">DIVOT <span>LAB</span></span>
  </a>
  <div class="nav-links">
    <a href="/articles">Articles</a>
    <a href="https://divotlab.printful.me/">Shop</a>
    <a href="/about">About</a>
    <a href="/the-lab" class="nav-cta">The Lab</a>
  </div>
</nav>

<!-- HERO -->
<section class="articles-hero">
  <div class="articles-hero-content">
    <div class="articles-eyebrow">From the Lab</div>
    <h1>Analysis. Data. Golf.</h1>
    <p>What the numbers actually show.</p>
  </div>
</section>

<!-- CATEGORY FILTERS -->
<div class="filter-bar">
  <div class="filter-row" id="filterRow">
    <button class="filter-btn active" data-category="all">All</button>
    <button class="filter-btn" data-category="pga">PGA Tour</button>
    <button class="filter-btn" data-category="sg">Strokes Gained</button>
    <button class="filter-btn" data-category="improve">Improvement</button>
  </div>
</div>

<!-- ARTICLES -->
<section class="articles-section">
  <div class="articles-grid" id="articlesGrid">
    <!-- Populated by JS -->
  </div>
</section>

<!-- FOOTER -->
<footer>
  <div class="footer-grid">
    <div class="f-brand">
      <div class="f-logo">
        <svg viewBox="0 0 72 72" fill="none" style="color:var(--white)">
          <line x1="4" y1="36.5" x2="68" y2="36.5" stroke="currentColor" stroke-width="3.2"/>
          <path d="M10 36.5 C18 36.5,26 60.5,36 60.5 S54 36.5,62 36.5" fill="currentColor" fill-opacity=".15"/>
          <path d="M10 36.5 C18 36.5,26 60.5,36 60.5 S54 36.5,62 36.5" stroke="currentColor" stroke-width="2.8" fill="none"/>
          <circle cx="36" cy="20.5" r="9" fill="currentColor"/>
        </svg>
        <span class="f-logo-text">DIVOT <span>LAB</span></span>
      </div>
      <p>Data-driven golf analysis and premium apparel. Smart takes. Real stats. Clothes worth wearing.</p>
    </div>
    <div class="f-col">
      <h5>Read</h5>
      <a href="/articles">All Articles</a>
    </div>
    <div class="f-col">
      <h5>Shop</h5>
      <a href="https://divotlab.printful.me/">All Products</a>
    </div>
    <div class="f-col">
      <h5>Company</h5>
      <a href="/about">About</a>
      <a href="/the-lab">The Lab</a>
      <a href="https://instagram.com/divotlab" target="_blank">Instagram</a>
      <a href="javascript:void(0)">Contact</a>
    </div>
  </div>
  <div class="footer-bottom">
    <span>&copy; 2026 Divot Lab</span>
    <span>Built with data.</span>
  </div>
</footer>

<script>
(function(){
  var API_BASE = window.location.hostname === 'localhost' ? 'http://localhost:3000' : 'https://divotlab-api.vercel.app';
  var grid = document.getElementById('articlesGrid');
  var filterRow = document.getElementById('filterRow');
  var allPosts = [];
  var activeCategory = 'all';

  // Divot Lab SVG logo markup for fallback hero
  var logoSVG = '<svg viewBox="0 0 72 72" fill="none" xmlns="http://www.w3.org/2000/svg"><line x1="4" y1="36.5" x2="68" y2="36.5" stroke="white" stroke-width="3.2"/><path d="M10 36.5 C18 36.5,26 60.5,36 60.5 S54 36.5,62 36.5" fill="white" fill-opacity=".12"/><path d="M10 36.5 C18 36.5,26 60.5,36 60.5 S54 36.5,62 36.5" stroke="white" stroke-width="2.8" fill="none"/><circle cx="36" cy="20.5" r="9" fill="white"/></svg>';

  function renderCards(posts) {
    if (posts.length === 0) {
      grid.innerHTML = '<div class="articles-empty">No articles in this category yet.</div>';
      return;
    }
    grid.innerHTML = posts.map(function(p) {
      var imgHTML;
      if (p.hero_image) {
        imgHTML = '<div class="a-img"><img src="' + p.hero_image + '" alt="' + esc(p.hero_alt || p.title) + '"></div>';
      } else {
        imgHTML = '<div class="a-img"><div class="a-img-fallback">' + logoSVG + '<span class="fallback-cat">' + esc(p.category) + '</span></div></div>';
      }
      return '<a href="/' + p.slug + '" class="a-card">' +
        imgHTML +
        '<div class="a-body">' +
          '<span class="a-cat ' + p.category_class + '">' + esc(p.category) + '</span>' +
          '<h3 class="a-title">' + esc(p.title) + '</h3>' +
          '<div class="a-meta">' + esc(p.date) + ' <span class="dot">&middot;</span> ' + esc(p.read_time) + '</div>' +
        '</div>' +
      '</a>';
    }).join('');
  }

  function updateCounts() {
    filterRow.querySelectorAll('.filter-btn').forEach(function(btn) {
      var cat = btn.dataset.category;
      var count = cat === 'all' ? allPosts.length : allPosts.filter(function(p){ return p.category_class === cat; }).length;
      var countEl = btn.querySelector('.filter-count');
      if (countEl) countEl.textContent = count;
      else {
        var span = document.createElement('span');
        span.className = 'filter-count';
        span.textContent = count;
        btn.appendChild(span);
      }
    });
  }

  function filterPosts() {
    var filtered = activeCategory === 'all' ? allPosts : allPosts.filter(function(p){ return p.category_class === activeCategory; });
    renderCards(filtered);
  }

  // Filter button clicks
  filterRow.addEventListener('click', function(e) {
    var btn = e.target.closest('.filter-btn');
    if (!btn) return;
    filterRow.querySelectorAll('.filter-btn').forEach(function(b){ b.classList.remove('active'); });
    btn.classList.add('active');
    activeCategory = btn.dataset.category;
    filterPosts();
  });

  // Fetch posts from registry API
  fetch(API_BASE + '/api/blog-posts')
    .then(function(r){ return r.json(); })
    .then(function(data) {
      if (data.success && data.posts) {
        allPosts = data.posts;
        updateCounts();
        filterPosts();
      }
    })
    .catch(function(err) {
      console.warn('Failed to fetch posts from API, using fallback');
      // Hardcoded fallback if API is unreachable
      allPosts = [
        { slug:'scheffler-putting-analysis', title:"Scottie Scheffler's Putting Numbers Don't Make Sense. We Looked Closer.", category:'PGA Tour', category_class:'pga', date:'Feb 1, 2026', read_time:'8 min read', hero_image:'/scheffler.jpg', hero_alt:'Scottie Scheffler putting' },
        { slug:'strokes-gained-approach', title:'The Stat No One Talks About', category:'Strokes Gained', category_class:'sg', date:'Jan 28, 2026', read_time:'6 min read', hero_image:'/fleetwood.jpg', hero_alt:'Tommy Fleetwood approach shot' },
        { slug:'driver-upgrade-myth', title:"Why Your $600 Driver Isn't The Problem", category:'Improvement', category_class:'improve', date:'Jan 24, 2026', read_time:'5 min read', hero_image:'/driver.jpg', hero_alt:'Golf driver' }
      ];
      updateCounts();
      filterPosts();
    });

  function esc(s) { if(!s) return ''; var d=document.createElement('div'); d.textContent=s; return d.innerHTML; }
})();
</script>
</body>
</html>