<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>The Lab - Divot Lab</title>
<link rel="icon" type="image/png" href="/favicon.png">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,400;0,500;0,600;0,700;1,500;1,600&family=DM+Sans:wght@300;400;500;600&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">

<style>
:root {
  --black:      #0A0A0A;
  --white:      #FAFAFA;
  --graphite:   #4A4A4A;
  --steel:      #C4C4C4;
  --green:      #1B4D3E;
  --green-light:#5BBF85;
  --blue:       #2C5F7C;
  --blue-mid:   #5A8FA8;
  --warm-gray:  #F3F2F0;

  --display: 'Cormorant Garamond', Georgia, serif;
  --body:    'DM Sans', 'Helvetica Neue', sans-serif;
  --mono:    'JetBrains Mono', 'Courier New', monospace;
}

*,*::before,*::after { margin:0; padding:0; box-sizing:border-box; }
html { scroll-behavior:smooth; }
body {
  font-family: var(--body);
  color: var(--black);
  background: var(--black);
  -webkit-font-smoothing: antialiased;
  overflow-x: hidden;
}
a { color:inherit; text-decoration:none; }

/* NAV */
nav {
  position: fixed;
  top: 0; left: 0; right: 0;
  z-index: 100;
  padding: 0 56px;
  height: 68px;
  display: flex;
  align-items: center;
  background: rgba(10,10,10,0.92);
  backdrop-filter: blur(18px);
  -webkit-backdrop-filter: blur(18px);
  border-bottom: 1px solid rgba(255,255,255,0.07);
}
.nav-logo { display:flex; align-items:center; gap:11px; }
.nav-logo svg { width:26px; height:26px; color:var(--white); }
.nav-wordmark {
  font-family: var(--body);
  font-size: 14px;
  font-weight: 600;
  letter-spacing: .1em;
  color: var(--white);
}
.nav-wordmark span { font-weight:300; opacity:.55; }
.nav-links { display:flex; align-items:center; gap:32px; margin-left:auto; }
.nav-links a {
  font-size:13px; font-weight:500; letter-spacing:.05em;
  color:rgba(250,250,250,.65);
  transition: color .2s;
}
.nav-links a:hover { color:var(--white); }
.nav-cta {
  background: var(--green);
  color: var(--white) !important;
  padding: 9px 22px;
  border-radius: 5px;
  font-weight: 500;
  transition: all .2s;
}
.nav-cta.active { background: var(--green-light); }
.nav-cta:hover {
  background:#236b4f;
  transform:translateY(-1px);
  box-shadow:0 4px 14px rgba(27,77,62,.3);
}

/* SECTION NAV - Sticky tabs */
.section-nav {
  position: sticky;
  top: 68px;
  z-index: 90;
  background: rgba(10,10,10,0.95);
  backdrop-filter: blur(12px);
  border-bottom: 1px solid rgba(255,255,255,0.07);
  padding: 0 56px;
  display: flex;
  gap: 0;
  overflow-x: auto;
  scrollbar-width: none;
}
.section-nav::-webkit-scrollbar { display: none; }
.section-nav a {
  padding: 16px 24px;
  font-size: 13px;
  font-weight: 500;
  letter-spacing: .03em;
  color: rgba(250,250,250,0.5);
  border-bottom: 2px solid transparent;
  transition: all .3s cubic-bezier(.22,1,.36,1);
  white-space: nowrap;
}
.section-nav a:hover {
  color: rgba(250,250,250,0.8);
  background: rgba(255,255,255,0.03);
}
.section-nav a.active {
  color: var(--green-light);
  border-bottom-color: var(--green-light);
  background: rgba(91,191,133,0.05);
}

/* HERO */
.lab-hero {
  min-height: 50vh;
  background: linear-gradient(165deg, #0a0a0a 0%, #0d1312 100%);
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 140px 56px 80px;
  overflow: hidden;
}
.lab-hero::before {
  content:'';
  position:absolute;
  top:0; left:50%; transform:translateX(-50%);
  width:800px; height:800px;
  background:radial-gradient(ellipse at center, rgba(91,191,133,.08) 0%, transparent 70%);
  pointer-events:none;
}
.lab-hero-content {
  position:relative; z-index:1;
  text-align:center;
  max-width:720px;
}
.lab-hero h1 {
  font-family: var(--display);
  font-size: clamp(42px, 5vw, 64px);
  font-weight: 600;
  color: var(--white);
  letter-spacing: -.02em;
  margin-bottom: 16px;
}
.lab-hero p {
  font-size: 17px;
  color: rgba(250,250,250,0.5);
  line-height: 1.6;
  margin-bottom: 8px;
}
.lab-hero .tournament-name {
  display: inline-block;
  margin-top: 24px;
  padding: 8px 20px;
  background: rgba(91,191,133,0.1);
  border: 1px solid rgba(91,191,133,0.2);
  border-radius: 6px;
  color: var(--green-light);
  font-size: 14px;
  font-weight: 500;
  letter-spacing: .05em;
}

/* SECTIONS */
.lab-section {
  padding: 80px 56px;
  border-bottom: 1px solid rgba(255,255,255,0.05);
  transition: all .4s cubic-bezier(.22,1,.36,1);
}
.lab-section.collapsed .section-body {
  max-height: 0;
  opacity: 0;
  overflow: hidden;
}
.section-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-bottom: 48px;
  cursor: pointer;
  user-select: none;
}
.section-header h2 {
  font-family: var(--display);
  font-size: clamp(32px, 3.5vw, 44px);
  font-weight: 600;
  color: var(--white);
  letter-spacing: -.02em;
}
.section-toggle {
  width: 40px;
  height: 40px;
  border-radius: 50%;
  background: rgba(255,255,255,0.05);
  border: 1px solid rgba(255,255,255,0.1);
  display: flex;
  align-items: center;
  justify-content: center;
  color: rgba(250,250,250,0.4);
  transition: all .3s;
}
.section-toggle:hover {
  background: rgba(255,255,255,0.08);
  color: var(--green-light);
  transform: scale(1.05);
}
.lab-section.collapsed .section-toggle {
  transform: rotate(180deg);
}
.section-body {
  max-height: 10000px;
  opacity: 1;
  transition: all .5s cubic-bezier(.22,1,.36,1);
}

/* TOP 10 GRID */
.top10-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
  gap: 20px;
  max-width: 1400px;
  margin: 0 auto;
}

/* PLAYER CARDS - NEW DESIGN */
.player-card-new {
  background: rgba(255,255,255,0.03);
  border: 1px solid rgba(255,255,255,0.08);
  border-radius: 12px;
  padding: 24px;
  position: relative;
  transition: all .4s cubic-bezier(.22,1,.36,1);
  overflow: hidden;
}
.player-card-new::before {
  content: '';
  position: absolute;
  top: 0; left: 0; right: 0;
  height: 3px;
  background: linear-gradient(90deg, var(--green-light), var(--blue-mid));
  transform: scaleX(0);
  transform-origin: left;
  transition: transform .5s cubic-bezier(.22,1,.36,1);
}
.player-card-new:hover {
  background: rgba(255,255,255,0.05);
  border-color: rgba(91,191,133,0.3);
  transform: translateY(-4px);
  box-shadow: 0 12px 32px rgba(0,0,0,0.3);
}
.player-card-new:hover::before {
  transform: scaleX(1);
}

.player-rank-badge {
  position: absolute;
  top: 16px;
  right: 16px;
  width: 36px;
  height: 36px;
  border-radius: 50%;
  background: var(--green-light);
  color: var(--black);
  font-size: 15px;
  font-weight: 700;
  display: flex;
  align-items: center;
  justify-content: center;
  box-shadow: 0 4px 12px rgba(91,191,133,0.3);
  animation: fadeIn .6s cubic-bezier(.22,1,.36,1) backwards;
}

.player-flag {
  font-size: 32px;
  margin-bottom: 12px;
  line-height: 1;
  animation: fadeIn .6s cubic-bezier(.22,1,.36,1) .1s backwards;
}

.player-name {
  font-size: 18px;
  font-weight: 600;
  color: var(--white);
  margin-bottom: 8px;
  animation: fadeIn .6s cubic-bezier(.22,1,.36,1) .15s backwards;
}

.player-sg-total {
  font-family: var(--mono);
  font-size: 28px;
  font-weight: 600;
  color: var(--green-light);
  margin-bottom: 4px;
  animation: fadeIn .6s cubic-bezier(.22,1,.36,1) .2s backwards;
}

.player-sg-label {
  font-size: 11px;
  letter-spacing: .08em;
  text-transform: uppercase;
  color: rgba(250,250,250,0.4);
  margin-bottom: 20px;
  animation: fadeIn .6s cubic-bezier(.22,1,.36,1) .25s backwards;
}

.player-skills {
  display: flex;
  flex-direction: column;
  gap: 10px;
}

.skill-bar {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 8px 0;
  border-top: 1px solid rgba(255,255,255,0.05);
}

.skill-label {
  font-size: 12px;
  color: rgba(250,250,250,0.5);
}

.skill-value {
  font-family: var(--mono);
  font-size: 13px;
  font-weight: 500;
  color: var(--white);
}

/* PREDICTIONS TABLE */
.predictions-grid {
  width: 100%;
  border-collapse: collapse;
  background: rgba(255,255,255,0.02);
  border: 1px solid rgba(255,255,255,0.08);
  border-radius: 8px;
  overflow: hidden;
}

.predictions-grid thead {
  background: rgba(255,255,255,0.05);
}

.predictions-grid th {
  padding: 14px 16px;
  text-align: left;
  font-size: 11px;
  font-weight: 600;
  letter-spacing: .1em;
  text-transform: uppercase;
  color: rgba(250,250,250,0.5);
  border-bottom: 1px solid rgba(255,255,255,0.08);
}

.predictions-grid td {
  padding: 12px 16px;
  font-size: 14px;
  color: rgba(250,250,250,0.8);
  border-bottom: 1px solid rgba(255,255,255,0.03);
}

.predictions-grid tbody tr {
  transition: background .2s;
}

.predictions-grid tbody tr:hover {
  background: rgba(255,255,255,0.04);
}

.predictions-grid td:nth-child(1) {
  font-family: var(--mono);
  color: rgba(250,250,250,0.4);
  font-size: 12px;
}

.predictions-grid td:nth-child(2) {
  font-weight: 500;
  color: var(--white);
}

/* CHARTS GRID */
.charts-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(450px, 1fr));
  gap: 32px;
  max-width: 1400px;
  margin: 0 auto;
}

.chart-card {
  background: rgba(255,255,255,0.02);
  border: 1px solid rgba(255,255,255,0.08);
  border-radius: 12px;
  padding: 32px;
  transition: all .3s;
}

.chart-card:hover {
  background: rgba(255,255,255,0.03);
  border-color: rgba(255,255,255,0.12);
}

.chart-title {
  font-size: 16px;
  font-weight: 600;
  color: var(--white);
  margin-bottom: 8px;
}

.chart-subtitle {
  font-size: 13px;
  color: rgba(250,250,250,0.4);
  margin-bottom: 24px;
}

canvas {
  max-width: 100%;
  height: auto;
}

/* PREMIUM CTA */
.premium-cta {
  background: linear-gradient(135deg, rgba(91,191,133,0.08), rgba(90,143,168,0.08));
  border: 1px solid rgba(91,191,133,0.2);
  border-radius: 12px;
  padding: 32px;
  text-align: center;
  margin: 64px auto 0;
  max-width: 600px;
  position: relative;
  overflow: hidden;
}

.premium-cta::before {
  content: '';
  position: absolute;
  top: 0; left: -100%;
  width: 200%;
  height: 100%;
  background: linear-gradient(90deg, transparent, rgba(255,255,255,0.05), transparent);
  animation: shimmer 3s infinite;
}

.premium-cta h3 {
  font-family: var(--display);
  font-size: 28px;
  font-weight: 600;
  color: var(--white);
  margin-bottom: 12px;
}

.premium-cta p {
  font-size: 15px;
  color: rgba(250,250,250,0.6);
  margin-bottom: 24px;
  line-height: 1.6;
}

.premium-btn {
  display: inline-block;
  padding: 14px 36px;
  background: var(--green-light);
  color: var(--black);
  font-size: 14px;
  font-weight: 600;
  letter-spacing: .05em;
  border-radius: 6px;
  transition: all .3s cubic-bezier(.22,1,.36,1);
  position: relative;
  z-index: 1;
}

.premium-btn:hover {
  background: #6DD99A;
  transform: translateY(-2px);
  box-shadow: 0 8px 24px rgba(91,191,133,0.3);
}

/* ANIMATIONS */
@keyframes fadeIn {
  from { opacity: 0; transform: translateY(10px); }
  to { opacity: 1; transform: translateY(0); }
}

@keyframes shimmer {
  to { left: 100%; }
}

/* MOBILE */
@media(max-width:900px){
  nav { padding: 0 24px; }
  .section-nav { padding: 0 24px; }
  .lab-hero { padding: 120px 24px 60px; }
  .lab-section { padding: 60px 24px; }
  .top10-grid { grid-template-columns: 1fr; }
  .charts-grid { grid-template-columns: 1fr; }
  .predictions-grid { font-size: 12px; }
  .predictions-grid th,
  .predictions-grid td { padding: 10px 12px; }
}
</style>
</head>
<body>

<!-- NAV -->
<nav>
  <a href="/" class="nav-logo">
    <svg viewBox="0 0 72 72" fill="none">
      <line x1="4" y1="36.5" x2="68" y2="36.5" stroke="currentColor" stroke-width="3.2"/>
      <path d="M10 36.5 C18 36.5,26 60.5,36 60.5 S54 36.5,62 36.5" fill="currentColor" fill-opacity=".15"/>
      <path d="M10 36.5 C18 36.5,26 60.5,36 60.5 S54 36.5,62 36.5" stroke="currentColor" stroke-width="2.8" fill="none"/>
      <circle cx="36" cy="20.5" r="9" fill="currentColor"/>
    </svg>
    <span class="nav-wordmark">DIVOT <span>LAB</span></span>
  </a>
  <div class="nav-links">
    <a href="/articles">Articles</a>
    <a href="https://divotlab.printful.me/">Shop</a>
    <a href="/about">About</a>
    <a href="/the-lab" class="nav-cta active">The Lab</a>
  </div>
</nav>

<!-- SECTION NAV -->
<div class="section-nav">
  <a href="#rankings" class="active">Rankings</a>
  <a href="#predictions">Predictions</a>
  <a href="#analytics">Analytics</a>
</div>

<!-- HERO -->
<section class="lab-hero">
  <div class="lab-hero-content">
    <h1>The Lab</h1>
    <p>Real-time golf analytics powered by DataGolf</p>
    <p style="font-size:14px; opacity:0.4;">Updated every 6 hours · Live tournament data</p>
    <div class="tournament-name" id="tournament-name">Loading...</div>
  </div>
</section>

<!-- TOP 10 RANKINGS -->
<section class="lab-section" id="rankings">
  <div class="section-header" onclick="this.closest('.lab-section').classList.toggle('collapsed')">
    <h2>Top 10 Rankings</h2>
    <div class="section-toggle">▼</div>
  </div>
  <div class="section-body">
    <div class="top10-grid" id="top10-grid">
      <!-- Loaded by JavaScript -->
      <div style="grid-column: 1/-1; text-align:center; padding:60px 20px; color:rgba(250,250,250,0.3);">
        Loading rankings...
      </div>
    </div>
  </div>
</section>

<!-- PREDICTIONS -->
<section class="lab-section" id="predictions">
  <div class="section-header" onclick="this.closest('.lab-section').classList.toggle('collapsed')">
    <h2>Tournament Predictions</h2>
    <div class="section-toggle">▼</div>
  </div>
  <div class="section-body">
    <div id="predictions-table">
      <div style="text-align:center; padding:60px 20px; color:rgba(250,250,250,0.3);">
        Loading predictions...
      </div>
    </div>
    
    <!-- Premium CTA for full field -->
    <div class="premium-cta">
      <h3>See Full Field Predictions</h3>
      <p>Unlock win probabilities, top finishes, and detailed analytics for all 156 players. Plus live leaderboards, DFS optimizer, and course fit analysis.</p>
      <a href="#" class="premium-btn">Upgrade to Premium →</a>
    </div>
  </div>
</section>

<!-- ANALYTICS -->
<section class="lab-section" id="analytics">
  <div class="section-header" onclick="this.closest('.lab-section').classList.toggle('collapsed')">
    <h2>Analytics Dashboard</h2>
    <div class="section-toggle">▼</div>
  </div>
  <div class="section-body">
    <div class="charts-grid">
      
      <!-- Skills Comparison Radar -->
      <div class="chart-card">
        <div class="chart-title">Skills Comparison</div>
        <div class="chart-subtitle">Top 5 players · All SG categories</div>
        <canvas id="skills-radar" width="400" height="400"></canvas>
      </div>
      
      <!-- Putting vs Tee-to-Green Scatter -->
      <div class="chart-card">
        <div class="chart-title">Putting vs Tee-to-Green</div>
        <div class="chart-subtitle">Top 10 players · Find the winning formula</div>
        <canvas id="scatter-plot" width="500" height="400"></canvas>
      </div>
      
      <!-- Consistency Chart -->
      <div class="chart-card">
        <div class="chart-title">Player Consistency</div>
        <div class="chart-subtitle">Based on SG Total variance</div>
        <canvas id="consistency-chart" width="500" height="300"></canvas>
      </div>
      
    </div>
    
    <!-- Premium CTA for advanced analytics -->
    <div class="premium-cta">
      <h3>Unlock Advanced Analytics</h3>
      <p>Get approach skill heatmaps, historical performance trends, course fit analysis, head-to-head matchups, and export all data to CSV.</p>
      <a href="#" class="premium-btn">Go Premium →</a>
    </div>
  </div>
</section>

<script src="/lab-data.js"></script>
</body>
</html>
